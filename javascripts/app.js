!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},o={},r={}.hasOwnProperty,s="components/",i=function(e,t){var n=0;t&&(0===t.indexOf(s)&&(n=s.length),t.indexOf("/",n)>0&&(t=t.substring(n,t.indexOf("/",n))));var r=o[e+"/index.js"]||o[t+"/deps/"+e+"/index.js"];return r?s+r.substring(0,r.length-".js".length):e},l=/^\.\.?(\/|$)/,a=function(e,t){for(var n,o=[],r=(l.test(t)?e+"/"+t:t).split("/"),s=0,i=r.length;i>s;s++)n=r[s],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},h=function(t){return function(n){var o=a(u(t),n);return e.require(o,t)}},d=function(e,t){var o={id:e,exports:{}};return n[e]=o,t(o.exports,h(e),o),o.exports},c=function(e,o){var s=a(e,".");if(null==o&&(o="/"),s=i(e,o),r.call(n,s))return n[s].exports;if(r.call(t,s))return d(s,t[s]);var l=a(s,"./index");if(r.call(n,l))return n[l].exports;if(r.call(t,l))return d(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')};c.alias=function(e,t){o[t]=e},c.register=c.define=function(e,n){if("object"==typeof e)for(var o in e)r.call(e,o)&&(t[o]=e[o]);else t[e]=n},c.list=function(){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},c.brunch=!0,c._cache=n,e.require=c}}(),require.register("init",function(e,t,n){var o,r,s;t("scripts/utils"),o=!1,r=!1,s=function(){return r?void 0:(r=!0,o?($(".toggle_menu").removeClass("open"),$(".menu").removeClass("showed"),$("body").removeClass("noscroll"),runNext(400,function(e){return function(){return $(".menu").removeClass("opened"),r=!1,o=!1}}(this))):($(".toggle_menu").addClass("open"),$(".menu").addClass("opened"),$("body").addClass("noscroll"),runNext(100,function(e){return function(){return $(".menu").addClass("showed"),r=!1,o=!0}}(this))))},ready(function(){return $("body").fadeIn("fast"),$("a").click(function(e){return window["goto"]=$(this).attr("href"),$("body").fadeOut("fast",function(){return document.location.href=window["goto"]}),e.preventDefault()}),window.location.hostname.indexOf("github")>-1&&$("head").prepend('<base href="http://flywithmemsl.github.io/ygn/" />'),window.location.hostname.indexOf("citytocoast")>-1&&$("head").prepend('<base href="http://citytocoast.com/ygn/" />'),runNext(100,function(){return $(".main_slide .logo, .main_slide .subtitle").addClass("appeared")}),$(".toggle_menu").click(s),$("body").hasClass("index")&&(window.screens=new(t("scripts/screens")),screens.init()),$("body").hasClass("supporter")&&(window.supporter=new(t("scripts/supporter"))),$("body").hasClass("challenge")&&(window.challenge=new(t("scripts/challenge")),challenge.init()),$("body").hasClass("directors")&&(window.directors=new(t("scripts/directors")),directors.init()),$("body").hasClass("transition")&&(window.transition=new(t("scripts/transition")),transition.init()),($("body").hasClass("contact")||$("body").hasClass("directors")||$("body").hasClass("blog")||$("body").hasClass("sponsors")||$("body").hasClass("host"))&&($(".donate_link").addClass("reversed"),$(".toggle_menu").addClass("reversed")),($("body").hasClass("press")||$("body").hasClass("blog"))&&$(".badge").addClass("reversed"),$("body").hasClass("blog")&&$(".button-all").click(function(){return $(".navigation-title").toggleClass("navigation-titleActive"),$(".navigation-list").slideToggle("fast")}),$(".star_events .event").click(function(){return $(this).hasClass("opened")?($(this).removeClass("opened"),$(this).find(".toggleIcon").html("+"),$(this).next().slideUp()):($(this).addClass("opened"),$(this).find(".toggleIcon").html("-"),$(this).next().slideDown())})})}),require.register("scripts/challenge",function(e,t,n){var o,r=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n.exports=o=function(){function e(){this.preventDefault=r(this.preventDefault,this),this.getEventsPage=r(this.getEventsPage,this),this.addListenerMulti=r(this.addListenerMulti,this),this.getMSPointer=r(this.getMSPointer,this),this.addTouchHandler=r(this.addTouchHandler,this),this.touchStartHandler=r(this.touchStartHandler,this),this.isReallyTouch=r(this.isReallyTouch,this),this._handleTouchMove=r(this._handleTouchMove,this),this.touchMoveHandler=r(this.touchMoveHandler,this),this.touchMenu=r(this.touchMenu,this),this.setHandlers=r(this.setHandlers,this),this.setState=r(this.setState,this),this.movePrev=r(this.movePrev,this),this.moveNext=r(this.moveNext,this),this._move=r(this._move,this),this.onScroll=r(this.onScroll,this),this.createScrollListener=r(this.createScrollListener,this),this.init=r(this.init,this),this.move=_.throttle(this._move,1200),this.handleTouchMove=_.debounce(this._handleTouchMove,100),this.addTouchHandler()}var t,n,o,i,l,a,u,h,d,c,v,p,f,m,g,w,y,b,x;return f=null,t=null,n=null,a=null,g=null,o=null,i=null,p=null,d=null,c=null,v=null,m=["","state-1","state-2","state-3","state-4"],l=0,e.scrollDisabled=!1,e.prototype.init=function(){var e;return e=document.querySelector("body"),this.createScrollListener(e,this.onScroll),n=$(".next_arrow"),a=$(".donate_link"),g=$(".toggle_menu"),o=$(".badge"),g.addClass("reversed"),a.addClass("reversed"),i=$(".challenge_view"),p=$(".challenge_view .point"),d=$(".challenge_view .point.issue"),c=$(".challenge_view .point.opportunity"),v=$(".challenge_view .point.solution"),console.log($(window).width()),$(window).width()<767&&(m[0]="state-0",m.unshift(""),console.log(m)),this.setHandlers()},e.prototype.createScrollListener=function(e,t){return e.addEventListener?"onScroll"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)},e.prototype.onScroll=function(e){var t;if(!$("body").hasClass("noscroll"))return e=e||window.event,t=lethargy.check(e),t!==!1&&(this.scrollDisabled||(this.scrollDisabled=!0,this.move(t),runNext(1200,function(e){return function(){return e.scrollDisabled=!1}}(this)))),e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.prototype._move=function(e){return"next"===e||-1===e?this.moveNext():"prev"===e||1===e?this.movePrev():!1},e.prototype.moveNext=function(){return l<m.length-1?(l++,this.setState(l)):void 0},e.prototype.movePrev=function(){return console.log("movePrev",l),l>0?(l--,this.setState(l)):void 0},e.prototype.setState=function(e){return i.removeClass(m.join(" ")),i.addClass(m[e]),0===e?(g.addClass("reversed"),a.addClass("reversed"),$(".content .social_icons").addClass("reversed")):(g.removeClass("reversed"),a.removeClass("reversed"),$(".content .social_icons").removeClass("reversed"))},e.prototype.setHandlers=function(){return n.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("next"),runNext(1200,function(){return e.scrollDisabled=!1}))}}(this)),d.click(function(e){return function(){return $(window).width()<767?(e.setState(2),l=2):(e.setState(1),l=1),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this)),c.click(function(e){return function(){return $(window).width()<767?(e.setState(3),l=3):(e.setState(2),l=2),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this)),v.click(function(e){return function(){return $(window).width()<767?(e.setState(4),l=4):(e.setState(3),l=3),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this))},h=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),u=s.call(window,"ontouchstart")>=0||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,x=0,b=0,y=0,w=0,e.prototype.touchMenu=function(e){var t;return t=e||window.event||t||t.originalEvent,t.stopPropagation()},e.prototype.touchMoveHandler=function(e){var t;return t=e||window.event||t||t.originalEvent,this.preventDefault(t),this.isReallyTouch(t)&&(this.preventDefault(t),!this.scrollDisabled)?this.handleTouchMove(t):void 0},e.prototype._handleTouchMove=function(e){var t;t=this.getEventsPage(e),y=t.y,w=t.x,Math.abs(b-w)<Math.abs(x-y)&&Math.abs(x-y)>$(window).height()/100*5&&(console.log("touchmove"),x>y?this.move("next"):y>x&&this.move("prev"))},e.prototype.isReallyTouch=function(e){return"undefined"==typeof e.pointerType||"mouse"!==e.pointerType},e.prototype.touchStartHandler=function(e){var t,n;t=e||window.event||t||t.originalEvent,this.isReallyTouch(t)&&(n=this.getEventsPage(t),x=n.y,b=n.x)},e.prototype.addTouchHandler=function(){var e,t,n;(h||u)&&(n=$("body")[0],t=$(".menu")[0],document.addEventListener&&(e=this.getMSPointer(),n.removeEventListener("touchstart",this.touchStartHandler),n.removeEventListener(e.down,this.touchStartHandler),n.removeEventListener("touchmove",this.touchMoveHandler),n.removeEventListener(e.move,this.touchMoveHandler),this.addListenerMulti(n,"touchstart "+e.down,this.touchStartHandler),this.addListenerMulti(n,"touchmove "+e.move,this.touchMoveHandler),this.addListenerMulti(t,"touchmove "+e.move,this.touchMenu)))},e.prototype.getMSPointer=function(){var e;return e=void 0,e=window.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}},e.prototype.addListenerMulti=function(e,t,n){var o,r,s;for(o=t.split(" "),r=0,s=o.length;s>r;)document.addEventListener?e.addEventListener(o[r],n,!1):e.attachEvent(o[r],n,!1),r++},e.prototype.getEventsPage=function(e){var t;return t=[],t.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,u&&this.isReallyTouch(e)&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},e.prototype.preventDefault=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1},e}()}),require.register("scripts/directors",function(e,t,n){var o,r=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n.exports=o=function(){function e(){this.preventDefault=r(this.preventDefault,this),this.getEventsPage=r(this.getEventsPage,this),this.addListenerMulti=r(this.addListenerMulti,this),this.getMSPointer=r(this.getMSPointer,this),this.addTouchHandler=r(this.addTouchHandler,this),this.touchStartHandler=r(this.touchStartHandler,this),this.isReallyTouch=r(this.isReallyTouch,this),this._handleTouchMove=r(this._handleTouchMove,this),this.touchMoveHandler=r(this.touchMoveHandler,this),this.touchMenu=r(this.touchMenu,this),this.setHandlers=r(this.setHandlers,this),this.setState=r(this.setState,this),this.movePrev=r(this.movePrev,this),this.moveNext=r(this.moveNext,this),this._move=r(this._move,this),this.onScroll=r(this.onScroll,this),this.createScrollListener=r(this.createScrollListener,this),this.init=r(this.init,this),this.move=_.throttle(this._move,1200),this.handleTouchMove=_.debounce(this._handleTouchMove,100),this.addTouchHandler()}var t,n,o,i,l,a,u,h,d,c,v,p,f;return d=null,t=null,n=null,h=null,i=null,u=null,o=0,e.scrollDisabled=!1,e.prototype.init=function(){var e;return e=document.querySelector("body"),this.createScrollListener(e,this.onScroll),n=$(".next_arrow"),h=$(".prev_arrow"),i=$(".directors .director"),u=$(".directors .directors_view .links a"),this.setHandlers(),this.setState(0)},e.prototype.createScrollListener=function(e,t){return e.addEventListener?"onScroll"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)},e.prototype.onScroll=function(e){var t;if(!$("body").hasClass("noscroll"))return e=e||window.event,t=lethargy.check(e),t!==!1&&(this.scrollDisabled||(this.scrollDisabled=!0,this.move(t),runNext(1200,function(e){return function(){return e.scrollDisabled=!1}}(this)))),e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.prototype._move=function(e){return"next"===e||-1===e?this.moveNext():"prev"===e||1===e?this.movePrev():!1},e.prototype.moveNext=function(){return o<u.length-1?(o++,this.setState(o)):(o=0,this.setState(o))},e.prototype.movePrev=function(){return console.log("movePrev",o),o>0?(o--,this.setState(o)):(o=u.length-1,this.setState(o))},e.prototype.setState=function(e){return i.removeClass("showed"),u.removeClass("active"),runNext(310,function(t){return function(){var t;return i.eq(e).addClass("showed"),t=u.eq(e),console.log(t),t.addClass("active")}}(this))},e.prototype.setHandlers=function(){var e;return n.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("next"),runNext(1200,function(){return e.scrollDisabled=!1}))}}(this)),h.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("prev"),runNext(1200,function(){return e.scrollDisabled=!1}))}}(this)),e=this,u.click(function(t){var n;return t.preventDefault(),n=$(this).index(),o=n,e.setState(n),t.returnValue=!1,!1})},a=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),l=s.call(window,"ontouchstart")>=0||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,f=0,p=0,v=0,c=0,e.prototype.touchMenu=function(e){var t;return t=e||window.event||t||t.originalEvent,t.stopPropagation()},e.prototype.touchMoveHandler=function(e){var t;return t=e||window.event||t||t.originalEvent,this.preventDefault(t),this.isReallyTouch(t)&&(this.preventDefault(t),!this.scrollDisabled)?this.handleTouchMove(t):void 0},e.prototype._handleTouchMove=function(e){var t;t=this.getEventsPage(e),v=t.y,c=t.x,Math.abs(p-c)<Math.abs(f-v)&&Math.abs(f-v)>$(window).height()/100*5&&(console.log("touchmove"),f>v?this.move("next"):v>f&&this.move("prev"))},e.prototype.isReallyTouch=function(e){return"undefined"==typeof e.pointerType||"mouse"!==e.pointerType},e.prototype.touchStartHandler=function(e){var t,n;t=e||window.event||t||t.originalEvent,this.isReallyTouch(t)&&(n=this.getEventsPage(t),f=n.y,p=n.x)},e.prototype.addTouchHandler=function(){var e,t,n;(a||l)&&(n=$("body")[0],t=$(".menu")[0],document.addEventListener&&(e=this.getMSPointer(),n.removeEventListener("touchstart",this.touchStartHandler),n.removeEventListener(e.down,this.touchStartHandler),n.removeEventListener("touchmove",this.touchMoveHandler),n.removeEventListener(e.move,this.touchMoveHandler),this.addListenerMulti(n,"touchstart "+e.down,this.touchStartHandler),this.addListenerMulti(n,"touchmove "+e.move,this.touchMoveHandler),this.addListenerMulti(t,"touchmove "+e.move,this.touchMenu)))},e.prototype.getMSPointer=function(){var e;return e=void 0,e=window.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}},e.prototype.addListenerMulti=function(e,t,n){var o,r,s;for(o=t.split(" "),r=0,s=o.length;s>r;)document.addEventListener?e.addEventListener(o[r],n,!1):e.attachEvent(o[r],n,!1),r++},e.prototype.getEventsPage=function(e){var t;return t=[],t.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,l&&this.isReallyTouch(e)&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},e.prototype.preventDefault=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1},e}()}),require.register("scripts/host",function(e,t,n){var o,r=function(e,t){return function(){return e.apply(t,arguments)}};n.exports=o=function(){function e(){this.setHandlers=r(this.setHandlers,this),this.setState=r(this.setState,this),this.movePrev=r(this.movePrev,this),this.moveNext=r(this.moveNext,this),this._move=r(this._move,this),this.onScroll=r(this.onScroll,this),this.createScrollListener=r(this.createScrollListener,this),this.init=r(this.init,this),this.move=_.throttle(this._move,1200)}var t,n,o,s,i,l,a,u,h,d,c,v,p;return c=null,t=null,n=null,l=null,p=null,o=null,s=null,d=null,a=null,u=null,h=null,v=["","state-1","state-2","state-3","state-4"],i=0,e.scrollDisabled=!1,e.prototype.init=function(){var e;return e=document.querySelector("body"),this.createScrollListener(e,this.onScroll),n=$(".next_arrow"),l=$(".donate_link"),p=$(".toggle_menu"),o=$(".badge"),p.addClass("reversed"),l.addClass("reversed"),s=$(".challenge_view"),d=$(".challenge_view .point"),a=$(".challenge_view .point.issue"),u=$(".challenge_view .point.opportunity"),h=$(".challenge_view .point.solution"),this.setHandlers()},e.prototype.createScrollListener=function(e,t){return e.addEventListener?"onScroll"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)},e.prototype.onScroll=function(e){var t;if(!$("body").hasClass("noscroll"))return e=e||window.event,t=lethargy.check(e),t!==!1&&(this.scrollDisabled||(this.scrollDisabled=!0,this.move(t),runNext(1200,function(e){return function(){return e.scrollDisabled=!1}}(this)))),e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.prototype._move=function(e){return"next"===e||-1===e?this.moveNext():"prev"===e||1===e?this.movePrev():!1},e.prototype.moveNext=function(){return i<v.length-1?(i++,this.setState(i)):void 0},e.prototype.movePrev=function(){return console.log("movePrev",i),i>0?(i--,this.setState(i)):void 0},e.prototype.setState=function(e){return s.removeClass(v.join(" ")),s.addClass(v[e]),0===e?(p.addClass("reversed"),l.addClass("reversed"),$(".content .social_icons").addClass("reversed")):(p.removeClass("reversed"),l.removeClass("reversed"),$(".content .social_icons").removeClass("reversed"))},e.prototype.setHandlers=function(){return n.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("next"),runNext(1200,function(){return e.scrollDisabled=!1}))}}(this)),a.click(function(e){return function(){return e.setState(1),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this)),u.click(function(e){return function(){return e.setState(2),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this)),h.click(function(e){return function(){return e.setState(3),e.scrollDisabled=!0,runNext(1200,function(){return e.scrollDisabled=!1})}}(this))},e}()}),require.register("scripts/screens",function(e,t,n){var o,r=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n.exports=o=function(){function e(){this.preventDefault=r(this.preventDefault,this),this.getEventsPage=r(this.getEventsPage,this),this.addListenerMulti=r(this.addListenerMulti,this),this.getMSPointer=r(this.getMSPointer,this),this.addTouchHandler=r(this.addTouchHandler,this),this.touchStartHandler=r(this.touchStartHandler,this),this.isReallyTouch=r(this.isReallyTouch,this),this._handleTouchMove=r(this._handleTouchMove,this),this.touchMoveHandler=r(this.touchMoveHandler,this),this.touchMenu=r(this.touchMenu,this),this.setHandlers=r(this.setHandlers,this),this.highlightMenu=r(this.highlightMenu,this),this.toggleVideo=r(this.toggleVideo,this),this.stopVideo=r(this.stopVideo,this),this.playVideo=r(this.playVideo,this),this.showVideoControls=r(this.showVideoControls,this),this.hideVideoControls=r(this.hideVideoControls,this),this.beforeScroll=r(this.beforeScroll,this),this.afterScroll=r(this.afterScroll,this),this.movePrev=r(this.movePrev,this),this.moveNext=r(this.moveNext,this),this._move=r(this._move,this),this.onScroll=r(this.onScroll,this),this.createScrollListener=r(this.createScrollListener,this),this.init=r(this.init,this),this.move=_.throttle(this._move,1200),this.handleTouchMove=_.debounce(this._handleTouchMove,100),this.addTouchHandler()}var t,n,o,i,l,a,u,h,d,c,v,p,f,m,g,w,y,b;return c=null,t=null,n=null,b=null,d=null,l=null,f=null,o=null,e.prototype.index=null,h=4,p={0:[],1:["state-1","state-2"],2:["state-1"],3:[],4:[]},i=null,v=!1,e.scrollDisabled=!1,e.prototype.init=function(){var e;return e=document.querySelector("body"),this.createScrollListener(e,this.onScroll),n=$(".next_arrow"),window.video=b=$(".video_wrapper video")[0],d=$(".video_wrapper .controls .play"),l=$(".donate_link"),f=$(".toggle_menu"),o=$(".badge"),c=$(".screen"),t=c.first(),this.index=0,this.setHandlers()},e.prototype.createScrollListener=function(e,t){return e.addEventListener?"onScroll"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)},e.prototype.onScroll=function(e){var t;if(!$("body").hasClass("noscroll"))return e=e||window.event,t=lethargy.check(e),t!==!1&&(this.scrollDisabled||(this.scrollDisabled=!0,this.move(t),runNext(1200,function(e){return function(){return e.scrollDisabled=!1}}(this)))),e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.prototype._move=function(e){return"next"===e||-1===e?this.moveNext():"prev"===e||1===e?this.movePrev():!1},e.prototype.moveNext=function(){var e;return v=!0,e=t.next(),e.hasClass("screen")?(this.beforeScroll("next"),null!==i&&p[this.index][i+1]?(t.removeClass(p[this.index][i]),t.addClass(p[this.index][i+1]),i+=1,void this.afterScroll("next")):(i=null,e.addClass("shown"),runNext(10,function(n){return function(){return t.addClass("scrolled"),e.addClass("visible"),p[n.index+1].length&&(i=0,e.addClass(p[n.index+1][0])),runNext(800,function(){return t.removeClass("visible"),t.removeClass("shown"),n.index+=1,t=e,n.afterScroll("next")})}}(this)))):void 0},e.prototype.movePrev=function(){var e;if(v&&(e=t.prev(),e.hasClass("screen")))return this.beforeScroll("prev"),null!==i&&p[this.index][i-1]?(t.removeClass(p[this.index][i]),t.addClass(p[this.index][i-1]),i-=1,void this.afterScroll("prev")):(i=null,t.removeClass(p[this.index].join(" ")),e.addClass("shown"),p[this.index-1].length&&(i=p[this.index-1].length-1),runNext(10,function(n){return function(){return t.removeClass("visible"),e.removeClass("scrolled"),e.addClass("visible"),runNext(800,function(){return t.removeClass("shown"),n.index-=1,t=e,p[n.index].length&&t.addClass(p[n.index].slice(-1)[0]),n.afterScroll("prev")})}}(this)))},e.prototype.afterScroll=function(e){return this.highlightMenu(this.index,i)},e.prototype.beforeScroll=function(e){return $(".content").removeClass("expanded"),this.stopVideo(),"next"===e&&this.index+1===h-1?n.addClass("hidden"):n.removeClass("hidden")},e.prototype.hideVideoControls=function(){return $(".video_wrapper>div").addClass("hidden")},e.prototype.showVideoControls=function(){return $(".video_wrapper>div").removeClass("hidden")},e.prototype.playVideo=function(){},e.prototype.stopVideo=function(){},e.prototype.toggleVideo=function(){},e.prototype.highlightMenu=function(e,t){switch(console.log([e,t].join(",")),[e,t].join(",")){case"0,":return n.removeClass("reversed"),l.removeClass("reversed"),f.removeClass("reversed"),o.removeClass("reversed");case"1,0":if(f.addClass("reversed"),l.addClass("reversed"),o.removeClass("reversed"),n.addClass("reversed"),$(window).width()<768)return $(".donate_link").hide();break;case"1,1":if(f.addClass("reversed"),l.addClass("reversed"),o.removeClass("reversed"),n.addClass("reversed"),$(window).width()<768)return $(".donate_link").hide();break;case"2,0":if(l.removeClass("reversed"),f.removeClass("reversed"),o.addClass("reversed"),n.addClass("reversed"),$(window).width()<768)return $(".donate_link").hide();break;case"3,":if(l.addClass("reversed"),f.addClass("reversed"),o.addClass("reversed"),n.addClass("reversed"),$(window).width()<768)return $(".donate_link").hide();break;default:if(l.removeClass("reversed"),f.removeClass("reversed"),o.removeClass("reversed"),n.addClass("reversed"),$(window).width()<768)return $(".donate_link").show()}},e.prototype.setHandlers=function(){return n.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("next"),runNext(1200,function(){return e.scrollDisabled=!1}))}}(this)),d.click(function(e){return function(t){return e.toggleVideo()}}(this)),$(b).on("ended",function(e){return function(){return e.showVideoControls()}}(this)),$(".content .button.more, .content .close").click(function(){return $(this).parent().toggleClass("expanded")})},u=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),a=s.call(window,"ontouchstart")>=0||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,y=0,w=0,g=0,m=0,e.prototype.touchMenu=function(e){var t;return t=e||window.event||t||t.originalEvent,t.stopPropagation()},e.prototype.touchMoveHandler=function(e){var t;return t=e||window.event||t||t.originalEvent,this.preventDefault(t),this.isReallyTouch(t)&&(this.preventDefault(t),!this.scrollDisabled)?this.handleTouchMove(t):void 0},e.prototype._handleTouchMove=function(e){var t;t=this.getEventsPage(e),g=t.y,m=t.x,Math.abs(w-m)<Math.abs(y-g)&&Math.abs(y-g)>$(window).height()/100*5&&(console.log("touchmove"),y>g?this.move("next"):g>y&&this.move("prev"))},e.prototype.isReallyTouch=function(e){return"undefined"==typeof e.pointerType||"mouse"!==e.pointerType},e.prototype.touchStartHandler=function(e){var t,n;t=e||window.event||t||t.originalEvent,this.isReallyTouch(t)&&(n=this.getEventsPage(t),y=n.y,w=n.x)},e.prototype.addTouchHandler=function(){var e,t,n;(u||a)&&(n=$("body")[0],t=$(".menu")[0],document.addEventListener&&(e=this.getMSPointer(),n.removeEventListener("touchstart",this.touchStartHandler),n.removeEventListener(e.down,this.touchStartHandler),n.removeEventListener("touchmove",this.touchMoveHandler),n.removeEventListener(e.move,this.touchMoveHandler),this.addListenerMulti(n,"touchstart "+e.down,this.touchStartHandler),this.addListenerMulti(n,"touchmove "+e.move,this.touchMoveHandler),this.addListenerMulti(t,"touchmove "+e.move,this.touchMenu)))},e.prototype.getMSPointer=function(){var e;return e=void 0,e=window.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}},e.prototype.addListenerMulti=function(e,t,n){var o,r,s;for(o=t.split(" "),r=0,s=o.length;s>r;)document.addEventListener?e.addEventListener(o[r],n,!1):e.attachEvent(o[r],n,!1),r++},e.prototype.getEventsPage=function(e){var t;return t=[],t.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,a&&this.isReallyTouch(e)&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},e.prototype.preventDefault=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1},e}()}),require.register("scripts/supporter",function(e,t,n){var o;n.exports=o=function(){function e(){$(".supporter_view .support_type").click(function(){var e;return e=$(this).attr("class").split(" ").slice(-1)[0],console.log(e),$(".overlay").addClass("showed"),$(".overlay ."+e).addClass("showed"),runNext(10,function(t){return function(){return $(".overlay ."+e).addClass("visible")}}(this))}),$(".popup .close").click(function(){return $(".overlay").removeClass("showed"),$(".overlay .popup").removeClass("showed visible")})}return e}()}),require.register("scripts/transition",function(e,t,n){var o,r=function(e,t){return function(){return e.apply(t,arguments)}};n.exports=o=function(){function e(){this.setHandlers=r(this.setHandlers,this),this.setState=r(this.setState,this),this.setPhase=r(this.setPhase,this),this.moveNext=r(this.moveNext,this),this._move=r(this._move,this),this.onScroll=r(this.onScroll,this),this.createScrollListener=r(this.createScrollListener,this),this.init=r(this.init,this),this.move=_.throttle(this._move,1200)}var t,n,o,s,i,l,a,u,h,d,c,v;return h=null,t=null,n=null,u=null,l=null,i=null,c=null,o=null,v=null,d=["","state-1"],s=0,a=0,e.scrollDisabled=!1,e.prototype.init=function(){var e;return e=document.querySelector("body"),this.createScrollListener(e,this.onScroll),n=$(".next_arrow"),u=$(".right_arrow .arrow"),l=$(".left_arrow .arrow"),i=$(".donate_link"),c=$(".toggle_menu"),o=$(".badge"),c.addClass("reversed"),i.addClass("reversed"),v=$(".transition_view"),this.setHandlers()},e.prototype.createScrollListener=function(e,t){return e.addEventListener?"onScroll"in document?e.addEventListener("wheel",t):"onmousewheel"in document?e.addEventListener("mousewheel",t):e.addEventListener("MozMousePixelScroll",t):e.attachEvent("onmousewheel",t)},e.prototype.onScroll=function(e){var t;if(!$("body").hasClass("noscroll"))return e=e||window.event,t=lethargy.check(e),t!==!1&&(this.scrollDisabled||(this.scrollDisabled=!0,this.move(t),runNext(600,function(e){return function(){return e.scrollDisabled=!1}}(this)))),e.preventDefault?e.preventDefault():e.returnValue=!1,!1},e.prototype._move=function(e){return"next"===e||-1===e?this.moveNext():!1},e.prototype.moveNext=function(){return s<d.length-1?(s++,this.setState(s)):void 0},e.prototype.setPhase=function(e){return this.scrollDisabled?void 0:(0===s&&(v.removeClass(d.join(" ")),v.addClass(d[1])),this.scrollDisabled=!0,$(".phases .phase").removeClass("active"),$(".phase_content").hide(),$(".phases .phase_"+e).addClass("active"),$(".phase_content.phase_"+e).fadeIn("300"),a=e,runNext(400,function(e){return function(){return e.scrollDisabled=!1}}(this)))},e.prototype.setState=function(e){return v.removeClass(d.join(" ")),v.addClass(d[e]),0===a?($(".phases .phase_1").addClass("active"),$(".phase_content.phase_1").fadeIn("300"),a=1):void 0},e.prototype.setHandlers=function(){var e;return n.click(function(e){return function(){return e.scrollDisabled?void 0:(e.scrollDisabled=!0,e.move("next"),runNext(600,function(){return e.scrollDisabled=!1}))}}(this)),u.click(function(e){return function(){return 4>a?(a++,e.setPhase(a)):void 0}}(this)),l.click(function(e){return function(){return a>1?(a--,e.setPhase(a)):void 0}}(this)),e=this,$(".phase").click(function(){var t;return $(this).hasClass("active")?!1:(t=$(this).data("index"),e.setPhase(t))})},e}()}),require.register("scripts/utils",function(e,t,n){window.lethargy=new Lethargy,window.runNext=function(e){return function(e,t){return"function"==typeof e?setTimeout(e,0):"number"==typeof e&&"function"==typeof t?setTimeout(t,e):console.error("wrong params for runNext")}}(this),window.ready=function(e){return"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}});