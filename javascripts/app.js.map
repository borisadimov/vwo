{"version":3,"sources":["app/index.static.jade","app/init.coffee","app/scripts/screens.coffee","app/scripts/utils.coffee"],"names":[],"mappings":"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","file":"public/javascripts/app.js","sourcesContent":["var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<!DOCTYPE html><head><meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=utf-8\\\"><title>YGN</title><meta name=\\\"viewport\\\" content=\\\"width=device-width\\\"><meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\\\"><link rel=\\\"stylesheet\\\" href=\\\"stylesheets/app.css\\\"><script src=\\\"javascripts/vendor.js\\\"></script><script src=\\\"javascripts/app.js\\\"></script><script>require('init');\\n</script></head><body><div class=\\\"screen\\\">never</div><div class=\\\"screen\\\">gonna</div><div class=\\\"screen\\\">give</div><div class=\\\"screen\\\">you</div><div class=\\\"screen\\\">up</div></body>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","require 'scripts/utils'\nscreens = new (require('scripts/screens'))\n\n\nready ->\n\n  screens.init()\n\n\n\n\n\n","module.exports = class Screens\n\n  screens = null\n  active = null\n  index = null\n\n  states =\n    '0': null\n    '1': null\n    '2': ['state-1','state-2','state-3']\n    '3': null\n    '4': null\n\n  currentState = null\n\n\n  scrollDisabled: false\n\n\n\n  init: =>\n    container = document.querySelector('body')\n    @createScrollListener(container, @onScroll)\n    screens = $('.screen')\n    active = screens.first()\n    index = 0\n    active.addClass('shown visible')\n\n    screens.each (i,e) =>\n      if !!states[i]\n        $(e).addClass(states[i][0])\n\n  createScrollListener: (elem, handler) =>\n    if elem.addEventListener\n      if 'onScroll' of document\n        elem.addEventListener \"wheel\", handler\n      else if 'onmousewheel' of document\n        elem.addEventListener \"mousewheel\", handler\n      else\n        elem.addEventListener \"MozMousePixelScroll\", handler\n    else\n      elem.attachEvent \"onmousewheel\", handler\n\n\n  onScroll: (e) =>\n    e = e || window.event\n    scrollInfo = lethargy.check(e)\n    if scrollInfo != false\n      unless @scrollDisabled\n        @scrollDisabled = true\n        if scrollInfo is 1\n          @movePrev()\n        else\n          @moveNext()\n\n\n    if e.preventDefault\n      e.preventDefault()\n    else\n      (e.returnValue = false)\n    return false\n\n\n\n\n  moveNext: =>\n    next = active.next()\n\n    if (currentState != null) && !!states[index][currentState+1]\n      active.removeClass states[index][currentState]\n      active.addClass states[index][currentState+1]\n      currentState+=1\n      runNext 1000, =>\n        @scrollDisabled = false\n      return\n    else\n      currentState = null\n\n\n\n\n\n    if !next.hasClass('screen') then return\n\n    next.addClass 'shown'\n    runNext 10, =>\n      active.addClass 'scrolled'\n      next.addClass 'visible'\n      if !!states[index+1]\n        currentState = 0\n\n      runNext 800, =>\n        active.removeClass 'visible'\n        active.removeClass 'shown'\n        index+=1\n        active = next\n\n        runNext 180, =>\n          @scrollDisabled = false\n\n\n  movePrev: =>\n    next = active.prev()\n\n\n    if (currentState != null) && !!states[index][currentState-1]\n      active.removeClass states[index][currentState]\n      active.addClass states[index][currentState-1]\n      currentState-=1\n      runNext 1000, =>\n        @scrollDisabled = false\n      return\n    else\n      currentState = null\n\n\n\n    if !next.hasClass('screen') then return\n    next.addClass 'shown'\n    if !!states[index-1]\n      currentState = states[index-1].length-1\n\n    runNext 10, =>\n      active.removeClass 'visible'\n      next.removeClass 'scrolled'\n      next.addClass 'visible'\n      runNext 800, =>\n        active.removeClass 'shown'\n        index-=1\n        active = next\n\n        runNext 180, =>\n          @scrollDisabled = false\n\n\n\n\n\n\n\n\n\n\n  setActive: (next) =>\n    next.addClass 'shown'\n    runNext 10, =>\n      next.removeClass 'scrolled'\n      next.addClass 'visible'\n      runNext 800, =>\n        active = next\n\n  scrollup: (current) =>\n    runNext 10, ->\n      current.addClass 'scrolled'\n      runNext 800, ->\n        current.removeClass 'visible'\n        current.removeClass 'shown'\n\n\n  scrolldown: (current) =>\n    runNext 10, ->\n      active.removeClass 'visible'\n      runNext 800, ->\n        current.removeClass 'shown'\n\n\n","window.lethargy = new Lethargy()\n\nwindow.runNext = (arg1, arg2) =>\n  if typeof(arg1) is 'function'\n    return setTimeout arg1, 0\n  else\n    if typeof(arg1) is 'number' and typeof(arg2) is 'function'\n      return setTimeout arg2, arg1\n\n  console.error('wrong params for runNext')\n\n\n\nwindow.ready = (fn) ->\n  if document.readyState != 'loading'\n    do fn\n  else\n    document.addEventListener 'DOMContentLoaded', fn\n\n\n\n\n\n"]}